<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Testing of iFrameX</title>
  <style> body,html{margin:0;padding:10px;height:100%;font-family:Arial,Helvetica,sans-serif}iframe{width:100%;height:500;border:none}button{border:none;background:#2585da;font-size:1em;padding:5px 10px;border-radius:9999px;width:auto;height:auto;color:#fff;cursor:pointer;margin-bottom:10px}</style>
</head>
<body>
  <!-- Example button -->
  <button onclick="createIframe()">Create iframe with iFrameX</button>
  <!-- Load iFrameXJS -->
  <script src="../dist/iframex.min.js"></script>
  <!--- Create variable and funtions for initialize iFramex with configuration -->
  <script>
    let iframe = null;
    const table = `<thead> <tr> <th scope="col">#</th> <th scope="col">First</th> <th scope="col">Last</th> <th scope="col">Handle</th> </tr></thead> <tbody> <tr> <th scope="row">1</th> <td>Mark</td><td>Otto</td><td>@mdo</td></tr><tr> <th scope="row">2</th> <td>Jacob</td><td>Thornton</td><td>@fat</td></tr><tr> <th scope="row">3</th> <td>Larry</td><td>the Bird</td><td>@twitter</td></tr></tbody>`;
    const content = {
      attr: {
        width: '100%',
        height: '600',
        class: 'nice-iframe'
      },
      content: [
        {
          type: 'link',
          append: 'head',
          attr: {
            href: 'https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css',
            rel: 'stylesheet'
          }
        },
        {
          type: 'script',
          append: 'head',
          attr: {
            src: 'https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js'
          }
        },
        {
          type: 'div',
          content: 'A simple primary alertâ€”check it out!',
          attr: {
            class: 'alert alert-primary',
            role: 'alert'
          }
        },
        {
          type: 'table',
          content: table,
          attr: {
            class: 'table'
          }
        },
        {
          type: 'h1',
          append: 'div.alert',
          content: 'Hi',
          attr: {
            class: 'mydiv'
          }
        },
        {
          type: 'script',
          content: `alert('The content of script injected is succesful')`
        },
        {
          type: 'script',
          content: `alert('All great!')`,
          attr: {
            async: true
          }
        },
      ],
      config: {
        debug: true,
        action: (msg) => { alert(msg.data) }
      }
    };

    function createIframe(){
      iframe = new iFrameX(content);
      iframe.init();
    }
  </script>
</body>
</html>
